<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<title>Búsqueda de Participantes</title>
</head>
<body>

<input type="text" id="nombre" placeholder="Nombre" />
<input type="text" id="apellidos" placeholder="Apellidos" />
<button id="buscarBtn">Buscar</button>

<div id="resultado"></div>

<script>
  // Datos embebidos directamente
  let datos = [
    {
      "Nombre": "Yonatan",
      "Apellidos": "Almeida marrero",
      "Correo": "yoni2tiempos@hotmail.com",
      "Dorsal": "11",
      "Categoria": "Máster 40",
      "Distancia": "Distancia Larga – Corralejo",
      "Retiro": "Retiro el dorsal en Costa Calma",
      "Camiseta": "Talla M",
      "Maillot": "",
      "Tsaoliva": "",
      "Tpostoliva": "",
      "Tsacorralejo": "Sí, utilizaré el transporte de guagua",
      "Tpostcorralejo": "No, no necesito transporte"
    },
    {
      "Nombre": "Daniel",
      "Apellidos": "Garrido morales",
      "Correo": "dani.depeche@gmail.com",
      "Dorsal": "12",
      "Categoria": "Máster 40",
      "Distancia": "Distancia Larga – Corralejo",
      "Retiro": "Retiro el dorsal en Costa Calma",
      "Camiseta": "Talla M",
      "Maillot": "",
      "Tsaoliva": "",
      "Tpostoliva": "",
      "Tsacorralejo": "Sí, utilizaré el transporte de guagua",
      "Tpostcorralejo": "No, no necesito transporte"
    }
  ];

  function normalizar(texto) {
    return texto
      .toLowerCase()
      .normalize("NFD")
      .replace(/[\u0300-\u036f]/g, "") // quita tildes
      .replace(/\s+/g, " ") // reemplaza múltiples espacios por uno solo
      .trim();
  }

  function buscarParticipante() {
    const nombre = normalizar(document.getElementById('nombre').value);
    const apellidos = normalizar(document.getElementById('apellidos').value);

    const resultados = datos.filter(p =>
      (nombre && normalizar(p.Nombre).includes(nombre)) ||
      (apellidos && normalizar(p.Apellidos).includes(apellidos))
    );

    const contenedor = document.getElementById('resultado');
    let html = '';

    if (resultados.length > 0) {
      resultados.forEach(resultado => {
        html += '<table border="1" cellspacing="0" cellpadding="4">';
        for (let campo in resultado) {
          html += `<tr><th>${campo}</th><td>${resultado[campo]}</td></tr>`;
        }
        html += '</table><br>';
      });
    } else {
      html = '<p>No se encontró al participante.</p>';
    }

    contenedor.innerHTML = html;
  }

  document.getElementById('buscarBtn').addEventListener('click', buscarParticipante);
</script>

</body>
</html>